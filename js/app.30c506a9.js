(function(){"use strict";var t={5870:function(t,e,a){var s=a(144),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid",attrs:{id:"app"}},[e("router-view",{attrs:{name:"navBar"}}),e("router-view",{attrs:{name:"listDisplay"}}),e("router-view",{attrs:{name:"chartPage"}}),e("router-view")],1)},n=[],o=a(1001),r={},l=(0,o.Z)(r,i,n,!1,null,null,null),p=l.exports,c=a(8345),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 pt-3"},[e("modalElement"),e("button",{staticClass:"btn btn-primary",attrs:{id:"addbutton",type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},on:{click:function(e){return t.modalTypeHandler(1)}}},[e("i",{staticClass:"bi bi-pencil"})]),e("div",{staticClass:"card main-card"},[e("ul",{staticClass:"list-group"},t._l(t.getData,(function(a){return e("li",{key:a.timestrip,staticClass:"lists-group-item flex-container py-1"},[e("h3",{staticClass:"lists-group-item-heading px-1",style:{color:""!==a.exesType?"#C0392B":"#145A32"}},[e("i",{staticClass:"bi bi-currency-dollar"}),t._v(" "+t._s(a.amount)+" ")]),e("h5",{staticClass:"px-2"},[e("i",{staticClass:"bi bi-calendar-heart"}),t._v(" "+t._s(a.dateInput)+" ")]),e("h5",{directives:[{name:"show",rawName:"v-show",value:"0"==a.moneyTypeInput,expression:"event.moneyTypeInput == '0'"}],staticClass:"px-2"},[e("i",{staticClass:"bi bi-card-text"}),e("span",{directives:[{name:"show",rawName:"v-show",value:"0"==a.incomeType,expression:"event.incomeType == '0'"}]},[t._v("薪水")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"1"==a.incomeType,expression:"event.incomeType == '1'"}]},[t._v("投資")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"2"==a.incomeType,expression:"event.incomeType == '2'"}]},[t._v("其他")])]),e("h5",{directives:[{name:"show",rawName:"v-show",value:"1"==a.moneyTypeInput,expression:"event.moneyTypeInput == '1'"}],staticClass:"px-2"},[e("i",{staticClass:"bi bi-card-text"}),e("span",{directives:[{name:"show",rawName:"v-show",value:"0"==a.exesType,expression:"event.exesType == '0'"}]},[t._v("伙食費")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"1"==a.exesType,expression:"event.exesType == '1'"}]},[t._v("交通費")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"2"==a.exesType,expression:"event.exesType == '2'"}]},[t._v("治裝費")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"3"==a.exesType,expression:"event.exesType == '3'"}]},[t._v("貸款")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"4"==a.exesType,expression:"event.exesType == '4'"}]},[t._v("電話費")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"5"==a.exesType,expression:"event.exesType == '5'"}]},[t._v("其他")])]),e("button",{staticClass:"btn btn-xs btn-warning mx-2",attrs:{"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},on:{click:function(e){return t.modalTypeHandler(2,a)}}},[t._v(" 修改 ")]),e("button",{staticClass:"btn btn-xs btn-danger mx-2",attrs:{"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},on:{click:function(e){return t.modalTypeHandler(3,a)}}},[t._v(" 刪除 ")])])})),0)])],1)},d=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[e("modalDisplay")],1)},v=[],h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"input-group mb-3 row"},[e("label",{staticClass:"input-group-text col-6",attrs:{for:"dateInput"}},[t._v("日期:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputList.dateInput,expression:"inputList.dateInput"}],staticClass:"form-control col-6",attrs:{type:"date",id:"dateInput",required:"",disabled:t.disabled},domProps:{value:t.inputList.dateInput},on:{input:function(e){e.target.composing||t.$set(t.inputList,"dateInput",e.target.value)}}})]),e("div",{staticClass:"input-group mb-3 row"},[e("label",{staticClass:"input-group-text col-2",attrs:{for:"options-outlined"}},[t._v("種類:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputList.moneyTypeInput,expression:"inputList.moneyTypeInput"}],staticClass:"btn-check",attrs:{type:"radio",name:"options-outlined",id:"success-outlined",value:"0",required:"",autocomplete:"off",disabled:t.disabled},domProps:{checked:t._q(t.inputList.moneyTypeInput,"0")},on:{click:function(e){t.inputList.exesType=""},change:function(e){return t.$set(t.inputList,"moneyTypeInput","0")}}}),e("label",{staticClass:"btn btn-outline-success col-5",attrs:{for:"success-outlined"}},[t._v("收入")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputList.moneyTypeInput,expression:"inputList.moneyTypeInput"}],staticClass:"btn-check",attrs:{type:"radio",name:"options-outlined",id:"danger-outlined",value:"1",autocomplete:"off",disabled:t.disabled},domProps:{checked:t._q(t.inputList.moneyTypeInput,"1")},on:{click:function(e){t.inputList.incomeType=""},change:function(e){return t.$set(t.inputList,"moneyTypeInput","1")}}}),e("label",{staticClass:"btn btn-outline-danger col-5",attrs:{for:"danger-outlined"}},[t._v("支出")])]),0==t.inputList.moneyTypeInput?[e("div",{staticClass:"input-group mb-3 row"},[e("label",{staticClass:"input-group-text col-6",attrs:{for:"incomeType"}},[t._v("收入類型:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.inputList.incomeType,expression:"inputList.incomeType"}],staticClass:"form-select col-6",attrs:{"aria-label":"incomeType",required:"",disabled:t.disabled},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.inputList,"incomeType",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:"",value:"",disabled:""}},[t._v("請選擇")]),e("option",{attrs:{value:"0"}},[t._v("薪水")]),e("option",{attrs:{value:"1"}},[t._v("投資")]),e("option",{attrs:{value:"2"}},[t._v("其他")])])])]:[e("div",{staticClass:"input-group mb-3 row"},[e("label",{staticClass:"input-group-text col-6",attrs:{for:"exesType"}},[t._v("支出類型:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.inputList.exesType,expression:"inputList.exesType"}],staticClass:"form-select col-6",attrs:{"aria-label":"exesType",required:"",disabled:t.disabled},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.inputList,"exesType",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:"",value:"",disabled:""}},[t._v("請選擇")]),e("option",{attrs:{value:"0"}},[t._v("伙食費")]),e("option",{attrs:{value:"1"}},[t._v("交通費")]),e("option",{attrs:{value:"2"}},[t._v("治裝費")]),e("option",{attrs:{value:"3"}},[t._v("貸款")]),e("option",{attrs:{value:"4"}},[t._v("電話費")]),e("option",{attrs:{value:"5"}},[t._v("其他")])])])],e("div",{staticClass:"input-group mb-3 row"},[e("label",{staticClass:"input-group-text col-6",attrs:{for:"amount"}},[t._v("費用:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputList.amount,expression:"inputList.amount"}],staticClass:"form-control col-6",attrs:{type:"number",id:"amount",min:"1",required:"",disabled:t.disabled},domProps:{value:t.inputList.amount},on:{input:function(e){e.target.composing||t.$set(t.inputList,"amount",e.target.value)}}})])],2),t._m(0)])])])},y=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"close","data-bs-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("確定")])])}],b={data(){return{shareState:this.$store.state,title:"",disabled:!1,inputList:{timestrip:void 0,dateInput:new Date(+new Date+288e5).toISOString().substring(0,10),moneyTypeInput:1,incomeType:"",exesType:"",amount:void 0,flag:0}}},methods:{closeModal(){const t=document.getElementById("close");t.click()},clear(){this.inputList.timestrip=void 0,this.inputList.moneyTypeInput=1,this.inputList.dateInput=new Date(+new Date+288e5).toISOString().substring(0,10),this.inputList.incomeType="",this.inputList.exesType="",this.inputList.amount=void 0,this.inputList.flag=0,console.log("清空")},submitForm(){switch(this.shareState.actionType){case 1:this.$store.dispatch("ADD",this.inputList);break;case 2:this.$store.dispatch("UPDATE",this.inputList);break;case 3:this.$store.dispatch("DELETE",this.inputList);break}this.clear(),this.closeModal(),this.saveState()},saveState(){localStorage.setItem("lists",this.$store.getters.toJSON)}},watch:{"shareState.actionType":function(){const t=this.shareState.actionType;this.title=1===t?"新增紀錄":2===t?"編輯紀錄":"刪除紀錄",this.disabled=1!==t&&2!==t},"shareState.originalArray.timestrip":function(){const t=this.shareState.actionType;this.disabled=1!==t&&2!==t;const e=this.shareState.originalArray;this.inputList.amount=e.amount,this.inputList.timestrip=e.timestrip,this.inputList.moneyTypeInput=e.moneyTypeInput,this.inputList.dateInput=e.dateInput,this.inputList.incomeType=e.incomeType,this.inputList.exesType=e.exesType,this.inputList.flag=e.flag}}},f=b,g=(0,o.Z)(f,h,y,!1,null,null,null),T=g.exports,x={components:{modalDisplay:T}},w=x,C=(0,o.Z)(w,m,v,!1,null,null,null),_=C.exports,I={components:{modalElement:_},methods:{loadState(){localStorage.getItem("lists")&&this.$store.commit("loadJSON",localStorage.getItem("lists"))},modalTypeHandler(t,e){void 0===e&&(e={timestrip:void 0,dateInput:new Date(+new Date+288e5).toISOString().substring(0,10),moneyTypeInput:1,incomeType:"",exesType:"",amount:void 0,flag:0});const a={type:t,originalArray:e};this.$store.dispatch("SETACTIONS",a)}},computed:{getData(){return this.$store.getters.filterList}},mounted(){this.loadState()}},L=I,k=(0,o.Z)(L,u,d,!1,null,null,null),S=k.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-5"},[e("nav",{staticClass:"pe-3 navbar fixed-top navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"container-fluid"},[e("i",{staticClass:"bi bi-star-fill"}),e("span",{staticClass:"navbar-brand"},[t._v("記帳本")]),e("button",{staticClass:"navbar-toggler",attrs:{id:"navbar",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(e){return t.clickHandler()}}},[e("span",{staticClass:"navbar-toggler-icon"})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav me-auto mb-2 my-2 mb-lg-0"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("記帳")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/chart"}},[t._v("圖表")])],1)])])])])])},N=[],O={methods:{clickHandler(){const t=document.querySelectorAll(".nav-item"),e=document.getElementById("navbar");t.forEach((t=>{t.addEventListener("click",(()=>{e.click()}))}))}}},P=O,A=(0,o.Z)(P,D,N,!1,null,null,null),E=A.exports,$=function(){var t=this,e=t._self._c;return e("ChartPage")},Z=[],B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 pt-3"},[e("div",{staticClass:"btn-toolbar justify-content-center",attrs:{role:"toolbar","aria-label":"Toolbar with button groups"}},[e("div",{staticClass:"btn-group pe-1",attrs:{role:"group","aria-label":"First group"}},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.chartType=1}}},[t._v(" 收支總表 ")])]),e("div",{staticClass:"btn-group pe-1"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.chartType=2}}},[t._v(" 收入分類總表 ")])]),e("div",{staticClass:"btn-group pe-1"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.chartType=3}}},[t._v(" 支出分類總表 ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],attrs:{id:"container"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"text-center pt-2"},[t._v("沒有資料")])])},q=[],j=(a(7658),a(3869)),F={data(){return{shareState:this.$store.state,noData:!1,chartType:3}},mounted(){this.loadState();const t=this.shareState.lists.filter((t=>0===t.flag));0===t.length?this.noData=!0:this.noData=!1,this.createChart(),this.changeData()},methods:{loadState(){localStorage.getItem("lists")&&this.$store.commit("loadJSON",localStorage.getItem("lists"))},createChart(){const t=j.chart("container",{chart:{type:"pie"},title:{text:""},credits:{enabled:!1},tooltip:{style:{color:"#333333",cursor:"default",fontSize:"20px",whiteSpace:"nowrap"},headerFormat:"<b>{point.key}</b><br/>",pointFormat:"{point.percentage:.1f}%/{point.y}元"},legend:{itemStyle:{color:"#333333",cursor:"pointer",fontSize:"20px",fontWeight:"bold",textOverflow:"ellipsis"},align:"center",verticalAlign:"middle",layout:"vertical",floating:!0,x:260,itemMarginTop:5,itemMarginBottom:5,labelFormat:"{name} {y}元"},plotOptions:{series:{showInLegend:!0,dataLabels:{enabled:!1}}},series:[{data:[]}],responsive:{rules:[{condition:{maxWidth:650},chartOptions:{legend:{verticalAlign:"bottom",layout:"horizontal",floating:!1,x:0}}},{condition:{maxWidth:450},chartOptions:{legend:{verticalAlign:"top"}}}]}});return t},changeData(){this.noData=!1;let t=0,e=0;const a=this.shareState.lists.filter((t=>0===t.flag&&0==t.moneyTypeInput)),s=a.reduce(((t,e,a)=>{const s=a>0&&t.find((t=>t.name===e.incomeType));return s?s.y+=parseInt(e.amount):t.push({name:e.incomeType,y:parseInt(e.amount)}),t}),[]),i=this.shareState.lists.filter((t=>0===t.flag&&1===t.moneyTypeInput)),n=i.reduce(((t,e,a)=>{const s=a>0&&t.find((t=>t.name===e.exesType));return s?s.y+=parseInt(e.amount):t.push({name:e.exesType,y:parseInt(e.amount)}),t}),[]);switch(this.chartType){case 1:this.createChart().title.update({text:"收支總表"}),this.shareState.lists.filter((a=>{0===a.flag&&0==a.moneyTypeInput?t+=parseInt(a.amount):0===a.flag&&1===a.moneyTypeInput&&(e+=parseInt(a.amount))})),0===t&&0===e&&(this.noData=!0),this.createChart().series[0].update({data:[{name:"收入",y:t},{name:"支出",y:e}]});break;case 2:this.createChart().title.update({text:"收入分類總表"}),0===a.length&&(this.noData=!0),s.filter((t=>{switch(t.name){case"0":t.name="薪水";break;case"1":t.name="投資";break;case"2":t.name="其他";break;default:break}})),this.createChart().series[0].update({data:s});break;case 3:this.createChart().title.update({text:"支出分類總表"}),0===i.length&&(this.noData=!0),n.filter((t=>{switch(t.name){case"0":t.name="伙食費";break;case"1":t.name="交通費";break;case"2":t.name="治裝費";break;case"3":t.name="貸款";break;case"4":t.name="電話費";break;case"5":t.name="其他";break;default:break}})),this.createChart().series[0].update({data:n});break}}},watch:{chartType:function(){this.changeData()}}},J=F,H=(0,o.Z)(J,B,q,!1,null,null,null),M=H.exports,z={components:{ChartPage:M}},W=z,U=(0,o.Z)(W,$,Z,!1,null,null,null),G=U.exports;s.ZP.use(c.ZP);const K=[{path:"/",name:"home",components:{navBar:E,listDisplay:S}},{path:"/chart",components:{navBar:E,chartPage:G}}],Q=new c.ZP({base:"",routes:K});var R=Q,V=a(629);s.ZP.use(V.ZP);const X="setList",Y="updateList",tt="deleteList",et="setActions";var at=new V.ZP.Store({state:{lists:[],actionType:0,originalArray:{}},getters:{filterList(t){return t.lists.filter((t=>0===t.flag))},toJSON(t){return JSON.stringify(t.lists)}},mutations:{[X](t,e){console.log(e.moneyTypeInput),t.lists.push({amount:e.amount,dateInput:e.dateInput,exesType:e.exesType,flag:e.flag,incomeType:e.incomeType,moneyTypeInput:e.moneyTypeInput,timestrip:(new Date).getTime()})},[Y](t,e){t.lists.filter((t=>{if(t.timestrip===e.timestrip)return t.flag=1})),t.lists.push({amount:e.amount,dateInput:e.dateInput,exesType:e.exesType,flag:e.flag,incomeType:e.incomeType,moneyTypeInput:e.moneyTypeInput,timestrip:(new Date).getTime()})},[tt](t,e){t.lists.filter((t=>{if(t.timestrip===e.timestrip)return t.flag=1}))},[et](t,e){t.actionType=e.type,t.originalArray=e.originalArray},loadJSON(t,e){t.lists=JSON.parse(e)}},actions:{ADD({commit:t},e){return new Promise(((a,s)=>{t(X,e)}))},UPDATE({commit:t},e){return new Promise(((a,s)=>{t(Y,e)}))},DELETE({commit:t},e){return new Promise(((a,s)=>{t(tt,e)}))},SETACTIONS({commit:t},e){return new Promise(((a,s)=>{t(et,e)}))}},modules:{}});s.ZP.config.productionTip=!1,new s.ZP({router:R,store:at,render:t=>t(p)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],n=t[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var p=i();void 0!==p&&(e=p)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,i,n]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],r=s[1],l=s[2],p=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var c=l(a)}for(e&&e(s);p<o.length;p++)n=o[p],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},s=self["webpackChunkvue_cli"]=self["webpackChunkvue_cli"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5870)}));s=a.O(s)})();
//# sourceMappingURL=app.30c506a9.js.map